import{f as Se,b as Me}from"./formatters-b3558c7d.js";import{r as R,o as p,f as z,e as t,b as e,d as s,a1 as d,n as o,aV as G,b9 as Ee,aj as H,v as h,a as de,c as w,F as D,i as A,s as ue,x as y,z as se,j as ve,K as O,L as j,a$ as N,y as J,ba as De,a6 as q,w as Le,J as Te}from"./main-904b726a.js";import{_ as _e}from"./MoreBtn-55ef8628.js";import{P as ce}from"./vue3-perfect-scrollbar.esm-e31d8d30.js";import{_ as ze}from"./TiptapEditor-e8f8b168.js";import{a as Ae,V as Y}from"./VCard-eefd329f.js";import{V as F}from"./VSpacer-83e02c49.js";import{V as ie}from"./VTextField-abccc1cc.js";import{V as B}from"./VDivider-597493ff.js";import{V as K}from"./VMenu-06a939e0.js";import{V as Q,a as Z,b as ee}from"./VList-a5b492de.js";import{V as he}from"./VChip-bfdcd05f.js";import{V as te}from"./VBadge-6d9b4006.js";import{$ as pe}from"./api-ab668072.js";import{V as T}from"./VTooltip-9284d5e3.js";import{V as be}from"./VAvatar-b1de89d9.js";import{V as ne}from"./VImg-60fefca9.js";import{V as oe}from"./VCardText-b2889fcd.js";import{V as xe}from"./VNavigationDrawer-216e4bd8.js";import{u as Ie,V as Re,a as Be}from"./VMain-17927315.js";import{u as Ue}from"./useApi-a03f2d2e.js";import{c as Ne}from"./createUrl-be98c04a.js";import{V as fe}from"./VCheckbox-57fa13ac.js";import"./helpers-61e4df1a.js";import"./index-6b87be0e.js";/* empty css                   */import"./VCounter-bf80d23c.js";import"./VField-76e83c5a.js";import"./form-4964f997.js";import"./easing-9f15041e.js";import"./VInput-511964ce.js";import"./forwardRefs-8348545e.js";import"./VOverlay-fd224c4f.js";import"./lazy-eb3b668f.js";import"./scopeId-288b7732.js";import"./dialog-transition-0d97a9c7.js";import"./ssrBoot-b0843518.js";import"./index-51d05da2.js";import"./VCheckboxBtn-a6adf23f.js";import"./VSelectionControl-c3ab9651.js";const Fe={class:"d-flex align-center"},Pe=s("span",{class:"font-weight-medium"},"Compose Mail",-1),Oe={class:"pe-5"},je=s("div",{class:"text-sm text-disabled"}," To: ",-1),qe=s("span",{class:"cursor-pointer text-primary"},"Cc | Bcc",-1),He=s("div",{class:"text-sm text-disabled"}," Subject: ",-1),Je={class:"d-flex align-center px-5 py-4"},Ge={__name:"ComposeDialog",emits:["close"],setup(S,{emit:L}){const i=R(""),k=R(""),b=R(""),I=R(""),M=R(!1),f=()=>{k.value=b.value=I.value=""};return(c,m)=>{const v=ze;return p(),z(Y,{class:"email-compose-dialog",elevation:"24","max-width":"30vw"},{default:t(()=>[e(Ae,{class:"py-3 px-5"},{default:t(()=>[s("div",Fe,[Pe,e(F),e(d,{size:"20",icon:"tabler-minus",class:"me-4",onClick:m[0]||(m[0]=V=>c.$emit("close"))}),e(d,{size:"20",icon:"tabler-x",onClick:m[1]||(m[1]=V=>{c.$emit("close"),f()})})])]),_:1}),s("div",Oe,[e(ie,{modelValue:o(k),"onUpdate:modelValue":m[2]||(m[2]=V=>G(k)?k.value=V:null),density:"compact"},{"prepend-inner":t(()=>[je]),append:t(()=>[qe]),_:1},8,["modelValue"])]),e(B),e(ie,{modelValue:o(b),"onUpdate:modelValue":m[3]||(m[3]=V=>G(b)?b.value=V:null),density:"compact"},{"prepend-inner":t(()=>[He]),_:1},8,["modelValue"]),e(B),e(v,{modelValue:o(i),"onUpdate:modelValue":m[4]||(m[4]=V=>G(i)?i.value=V:null)},null,8,["modelValue"]),e(B),s("div",Je,[e(Ee,{color:"primary",divided:"",density:"comfortable"},{default:t(()=>[e(H,null,{default:t(()=>[h("Send")]),_:1}),e(H,{icon:"",onClick:m[5]||(m[5]=()=>M.value=!o(M))},{default:t(()=>[e(d,{icon:"tabler-send ",size:"18"}),e(K,{activator:"parent"},{default:t(()=>[e(Q,{items:["Schedule Mail","Save Draft"]})]),_:1})]),_:1})]),_:1}),e(d,{icon:"tabler-link",class:"ms-4 cursor-pointer"}),e(F),e(H,{icon:"",variant:"text",color:"default",density:"comfortable"},{default:t(()=>[e(d,{icon:"tabler-dots-vertical",size:"20"})]),_:1}),e(H,{icon:"",variant:"text",color:"default",density:"comfortable",onClick:m[6]||(m[6]=V=>{c.$emit("close"),f()})},{default:t(()=>[e(d,{icon:"tabler-trash",size:"20"})]),_:1})])]),_:1})}}};const Ke={class:"d-flex flex-column h-100"},Qe={class:"px-6 pb-5 pt-6"},We={class:"email-filters"},Xe=["href","onClick"],Ye={class:"font-weight-medium"},Ze={class:"email-labels"},et=s("li",{class:"text-xs d-block text-uppercase text-disabled mt-6 mb-2"}," LABELS ",-1),tt=["href","onClick"],at={class:"font-weight-medium"},lt=Object.assign({inheritAttrs:!1},{__name:"EmailLeftSidebarContent",emits:["toggleComposeDialogVisibility"],setup(S,{emit:L}){const i=[{title:"Inbox",prependIcon:"tabler-mail",to:{name:"apps-email"},badge:{content:"4",color:"primary"}},{title:"Sent",prependIcon:"tabler-send",to:{name:"apps-email-filter",params:{filter:"sent"}}},{title:"Draft",prependIcon:"tabler-pencil",to:{name:"apps-email-filter",params:{filter:"draft"}},badge:{content:"2",color:"warning"}},{title:"Starred",prependIcon:"tabler-star",to:{name:"apps-email-filter",params:{filter:"starred"}},badge:{content:"9",color:"success"}},{title:"Spam",prependIcon:"tabler-info-circle",to:{name:"apps-email-filter",params:{filter:"spam"}}},{title:"Trash",prependIcon:"tabler-trash",to:{name:"apps-email-filter",params:{filter:"trashed"}}}],k=[{title:"Personal",color:"success",to:{name:"apps-email-label",params:{label:"personal"}}},{title:"Company",color:"primary",to:{name:"apps-email-label",params:{label:"company"}}},{title:"Important",color:"warning",to:{name:"apps-email-label",params:{label:"important"}}},{title:"Private",color:"error",to:{name:"apps-email-label",params:{label:"private"}}}];return(b,I)=>{const M=de("RouterLink");return p(),w("div",Ke,[s("div",Qe,[e(H,{block:"",onClick:I[0]||(I[0]=f=>b.$emit("toggleComposeDialogVisibility"))},{default:t(()=>[h(" Compose ")]),_:1})]),e(o(ce),{options:{wheelPropagation:!1},class:"h-100"},{default:t(()=>[s("ul",We,[(p(),w(D,null,A(i,f=>e(M,{key:f.title,class:"d-flex align-center cursor-pointer",to:f.to,custom:""},{default:t(({isActive:c,href:m,navigate:v})=>{var V;return[s("li",ue(b.$attrs,{href:m,class:[c&&"email-filter-active text-primary","d-flex align-center cursor-pointer"],onClick:v}),[e(d,{icon:f.prependIcon,class:"me-2",size:"20"},null,8,["icon"]),s("span",Ye,y(f.title),1),e(F),(V=f.badge)!=null&&V.content?(p(),z(he,{key:0,color:f.badge.color,pill:""},{default:t(()=>[h(y(f.badge.content),1)]),_:2},1032,["color"])):se("",!0)],16,Xe)]}),_:2},1032,["to"])),64))]),s("ul",Ze,[et,(p(),w(D,null,A(k,f=>e(M,{key:f.title,class:"d-flex align-center",to:f.to,custom:""},{default:t(({isActive:c,href:m,navigate:v})=>[s("li",ue(b.$attrs,{href:m,class:[c&&"email-label-active text-primary","cursor-pointer"],onClick:v}),[e(te,{inline:"",dot:"",color:f.color,class:"me-4"},null,8,["color"]),s("span",at,y(f.title),1)],16,tt)]),_:2},1032,["to"])),64))])]),_:1})])}}}),re=()=>{const S=ve(),L=async(c,m)=>{await pe("apps/email",{method:"POST",body:JSON.stringify({ids:c,data:m})})};return{labels:[{title:"personal",color:"success"},{title:"company",color:"primary"},{title:"important",color:"warning"},{title:"private",color:"error"}],resolveLabelColor:c=>c==="personal"?"success":c==="company"?"primary":c==="important"?"warning":c==="private"?"error":"secondary",shallShowMoveToActionFor:c=>c==="trash"?S.params.filter!=="trashed":c==="inbox"?!(S.params.filter===void 0||S.params.filter==="sent"||S.params.filter==="draft"):c==="spam"?!(S.params.filter==="spam"||S.params.filter==="sent"||S.params.filter==="draft"):!1,emailMoveToFolderActions:[{action:"inbox",icon:"tabler-mail"},{action:"spam",icon:"tabler-alert-octagon"},{action:"trash",icon:"tabler-trash"}],moveSelectedEmailTo:(c,m)=>{const v={};c==="inbox"?(S.params.filter==="trashed"&&(v.isDeleted=!1),v.folder="inbox"):c==="spam"?(S.params.filter==="trashed"&&(v.isDeleted=!1),v.folder="spam"):c==="trash"&&(v.isDeleted=!0),L(m,v)},updateEmails:L,updateEmailLabels:async(c,m)=>{await pe("/apps/email",{method:"POST",body:{ids:c,label:m}})}}};const ot={class:"email-view-header d-flex align-center px-5 py-3"},st={class:"d-flex align-center flex-wrap flex-grow-1 overflow-hidden gap-3"},it={class:"text-body-1 font-weight-medium text-high-emphasis text-truncate"},nt={class:"d-flex flex-wrap gap-1"},rt={class:"email-view-action-bar d-flex align-center text-medium-emphasis px-5"},dt={class:"d-flex align-center"},ct=s("span",null,"1-10 of 448",-1),mt={class:"d-flex align-center"},ut={class:"d-flex align-start align-sm-center px-6 py-3"},pt={class:"d-flex flex-wrap flex-grow-1 overflow-hidden"},ft={class:"text-truncate"},vt={class:"d-block text-high-emphasis font-weight-medium text-truncate"},_t={class:"text-sm text-disabled"},ht={class:"d-flex align-center"},bt={class:"me-2"},xt=["innerHTML"],gt=s("span",null,"2 Attachments",-1),yt=s("div",{class:"text-base"},[h(" Click here to "),s("span",{class:"text-primary cursor-pointer"}," Reply "),h(" or "),s("span",{class:"text-primary cursor-pointer"}," Forward ")],-1),$t={__name:"EmailView",props:{email:{type:null,required:!0},emailMeta:{type:Object,required:!0}},emits:["refresh","navigated","close","trash","unread","read","star","unstar"],setup(S,{emit:L}){const i=S,k=L,{updateEmailLabels:b}=re(),{labels:I,resolveLabelColor:M,emailMoveToFolderActions:f,shallShowMoveToActionFor:c,moveSelectedEmailTo:m}=re(),v=_=>{m(_,[i.email.id]),k("refresh"),k("close")},V=async _=>{await b([i.email.id],_),k("refresh")};return(_,$)=>{const u=de("IconBtn"),W=_e;return p(),z(xe,{temporary:"","model-value":!!i.email,location:"right",scrim:!1,floating:"",class:"email-view"},{default:t(()=>[i.email?(p(),w(D,{key:0},[s("div",ot,[e(u,{class:"me-4",onClick:$[0]||($[0]=r=>_.$emit("close"))},{default:t(()=>[e(d,{size:"22",icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1}),s("div",st,[s("h2",it,y(i.email.subject),1),s("div",nt,[(p(!0),w(D,null,A(i.email.labels,r=>(p(),z(he,{key:r,color:o(M)(r),density:"default",class:"px-2 text-capitalize flex-shrink-0 me-2",label:""},{default:t(()=>[h(y(r),1)]),_:2},1032,["color"]))),128))])]),s("div",null,[e(u,null,{default:t(()=>[e(d,{icon:"tabler-printer"})]),_:1}),e(W,{density:"comfortable",color:"undefined"})])]),e(B),s("div",rt,[O(e(u,{onClick:$[1]||($[1]=r=>{_.$emit("trash"),_.$emit("close")})},{default:t(()=>[e(d,{icon:"tabler-trash"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:1},512),[[j,!i.email.isDeleted]]),e(u,{onClick:$[2]||($[2]=N(r=>{_.$emit("unread"),_.$emit("close")},["stop"]))},{default:t(()=>[e(d,{icon:"tabler-mail"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Mark as Unread ")]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,{icon:"tabler-folder"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Move to ")]),_:1}),e(K,{activator:"parent"},{default:t(()=>[e(Q,{density:"compact"},{default:t(()=>[(p(!0),w(D,null,A(o(f),r=>(p(),z(Z,{key:r.title,class:J([o(c)(r.action)?"d-flex":"d-none","align-center"]),href:"#",onClick:x=>v(r.action)},{prepend:t(()=>[e(d,{icon:r.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(ee,{class:"text-capitalize"},{default:t(()=>[h(y(r.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(u,null,{default:t(()=>[e(d,{icon:"tabler-tag"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Label ")]),_:1}),e(K,{activator:"parent"},{default:t(()=>[e(Q,{density:"compact"},{default:t(()=>[(p(!0),w(D,null,A(o(I),r=>(p(),z(Z,{key:r.title,href:"#",onClick:N(x=>V(r.title),["stop"])},{prepend:t(()=>[e(te,{inline:"",color:o(M)(r.title),dot:""},null,8,["color"])]),default:t(()=>[e(ee,{class:"ms-2 text-capitalize"},{default:t(()=>[h(y(r.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(F),s("div",dt,[ct,s("div",mt,[e(u,{disabled:!i.emailMeta.hasPreviousEmail,onClick:$[3]||($[3]=r=>_.$emit("navigated","previous"))},{default:t(()=>[e(d,{icon:"tabler-chevron-left",class:"flip-in-rtl"})]),_:1},8,["disabled"]),e(u,{disabled:!i.emailMeta.hasNextEmail,onClick:$[4]||($[4]=r=>_.$emit("navigated","next"))},{default:t(()=>[e(d,{icon:"tabler-chevron-right",class:"flip-in-rtl"})]),_:1},8,["disabled"])])])]),e(B),e(o(ce),{tag:"div",class:"mail-content-container flex-grow-1",options:{wheelPropagation:!1}},{default:t(()=>[e(Y,{class:"mx-5 my-4"},{default:t(()=>[s("div",ut,[e(be,{class:"me-3",size:"32"},{default:t(()=>[e(ne,{src:i.email.from.avatar,alt:i.email.from.name},null,8,["src","alt"])]),_:1}),s("div",pt,[s("div",ft,[s("span",vt,y(i.email.from.name),1),s("span",_t,y(i.email.from.email),1)]),e(F),s("div",ht,[s("span",bt,y(("formatDate"in _?_.formatDate:o(Se))(i.email.time)),1),O(e(u,null,{default:t(()=>[e(d,{icon:"tabler-paperclip"})]),_:1},512),[[j,i.email.attachments.length]]),e(u,{color:i.email.isStarred?"warning":"default",onClick:$[5]||($[5]=r=>{var x;(x=i.email)!=null&&x.isStarred?_.$emit("unstar"):_.$emit("star"),_.$emit("refresh")})},{default:t(()=>[e(d,{icon:i.email.isStarred?"tabler-star-filled":"tabler-star"},null,8,["icon"])]),_:1},8,["color"])])]),e(W,{class:"align-self-sm-center",density:"comfortable",color:"undefined"})]),e(B),e(oe,null,{default:t(()=>[s("div",{class:"text-base",innerHTML:i.email.message},null,8,xt)]),_:1}),i.email.attachments.length?(p(),w(D,{key:0},[e(B),e(oe,{class:"d-flex flex-column gap-y-4 pt-4"},{default:t(()=>[gt,(p(!0),w(D,null,A(i.email.attachments,r=>(p(),w("div",{key:r.fileName,class:"d-flex align-center"},[e(ne,{src:r.thumbnail,alt:r.fileName,"aspect-ratio":"1","max-height":"24","max-width":"24",class:"me-2"},null,8,["src","alt"]),s("span",null,y(r.fileName),1)]))),128))]),_:1})],64)):se("",!0)]),_:1}),e(Y,{class:"mx-5 mb-5"},{default:t(()=>[e(oe,{class:"font-weight-medium text-high-emphasis"},{default:t(()=>[yt]),_:1})]),_:1})]),_:1})],64)):se("",!0)]),_:1},8,["model-value"])}}};const kt={class:"d-flex align-center"},Ct={class:"py-2 px-5 d-flex align-center"},Vt=["onClick"],wt={class:"mx-3 text-body-1 font-weight-medium text-high-emphasis"},St={class:"truncate"},Mt={class:"text-disabled text-sm ms-2"},Et={class:"email-actions d-none"},Dt={class:"py-4 px-5 text-center"},Lt=s("span",{class:"text-high-emphasis"},"No items found.",-1),Tt=[Lt],xa={__name:"index",async setup(S){let L,i;const{isLeftSidebarOpen:k}=Ie(),b=ve(),{labels:I,resolveLabelColor:M,emailMoveToFolderActions:f,shallShowMoveToActionFor:c,moveSelectedEmailTo:m,updateEmails:v,updateEmailLabels:V}=re(),_=R(!1),$=R(""),u=R([]),{data:W,execute:r}=([L,i]=De(()=>Ue(Ne("/apps/email",{query:{q:$,filter:()=>"filter"in b.params?b.params.filter:void 0,label:()=>"label"in b.params?b.params.label:void 0}}))),L=await L,i(),L),x=q(()=>W.value.emails),ge=n=>{const l=u.value.indexOf(n);l===-1?u.value.push(n):u.value.splice(l,1)},ae=q(()=>x.value.length&&x.value.length===u.value.length),me=q(()=>!!u.value.length&&x.value.length!==u.value.length),le=q(()=>u.value.every(n=>{var l;return(l=x.value.find(C=>C.id===n))==null?void 0:l.isRead})),ye=()=>{u.value=ae.value?[]:x.value.map(n=>n.id)},g=R(null),$e=q(()=>{const n={hasNextEmail:!1,hasPreviousEmail:!1};if(g.value){const l=x.value.findIndex(C=>{var P;return C.id===((P=g.value)==null?void 0:P.id)});n.hasNextEmail=!!x.value[l+1],n.hasPreviousEmail=!!x.value[l-1]}return n}),E=async(n,l=u.value)=>{u.value=[],u.value=[],l.length&&(n==="trash"?await v(l,{isDeleted:!0}):n==="spam"?await v(l,{folder:"spam"}):n==="unread"?await v(l,{isRead:!1}):n==="read"?await v(l,{isRead:!0}):n==="star"?await v(l,{isStarred:!0}):n==="unstar"&&await v(l,{isStarred:!1}),await r())},ke=n=>{m(n,u.value),r()},Ce=n=>{if(!g.value)return;const l=x.value.findIndex(P=>{var a;return P.id===((a=g.value)==null?void 0:a.id)}),C=n==="previous"?l-1:l+1;g.value=x.value[C]},Ve=n=>{g.value=n,E("read",[n.id])},we=async()=>{await r(),g.value&&(g.value=x.value.find(n=>{var l;return n.id===((l=g.value)==null?void 0:l.id)}))};return Le(()=>b.params,()=>{u.value=[]},{deep:!0}),(n,l)=>{const C=de("IconBtn"),P=_e;return p(),z(Re,{style:{"min-block-size":"100%"},class:"email-app-layout"},{default:t(()=>[e(xe,{modelValue:o(k),"onUpdate:modelValue":l[1]||(l[1]=a=>G(k)?k.value=a:null),absolute:"",touchless:"",location:"start",temporary:n.$vuetify.display.mdAndDown},{default:t(()=>[e(lt,{onToggleComposeDialogVisibility:l[0]||(l[0]=a=>_.value=!o(_))})]),_:1},8,["modelValue","temporary"]),e($t,{email:o(g),"email-meta":o($e),onRefresh:we,onNavigated:Ce,onClose:l[2]||(l[2]=a=>g.value=null),onRemove:l[3]||(l[3]=a=>E("trash",o(g)?[o(g).id]:[])),onUnread:l[4]||(l[4]=a=>E("unread",o(g)?[o(g).id]:[])),onStar:l[5]||(l[5]=a=>E("star",o(g)?[o(g).id]:[])),onUnstar:l[6]||(l[6]=a=>E("unstar",o(g)?[o(g).id]:[]))},null,8,["email","email-meta"]),e(Be,null,{default:t(()=>[e(Y,{flat:"",class:"email-content-list h-100 d-flex flex-column"},{default:t(()=>[s("div",kt,[e(C,{class:"d-lg-none ms-3",onClick:l[7]||(l[7]=a=>k.value=!0)},{default:t(()=>[e(d,{icon:"tabler-menu-2"})]),_:1}),e(ie,{modelValue:o($),"onUpdate:modelValue":l[8]||(l[8]=a=>G($)?$.value=a:null),density:"default",class:"email-search px-1 flex-grow-1","prepend-inner-icon":"tabler-search",placeholder:"Search email"},null,8,["modelValue"])]),e(B),s("div",Ct,[e(fe,{"model-value":o(ae),indeterminate:o(me),"onUpdate:modelValue":ye},null,8,["model-value","indeterminate"]),s("div",{class:"w-100 d-flex align-center action-bar-actions",style:Te({visibility:o(me)||o(ae)?void 0:"hidden"})},[O(e(C,{onClick:l[9]||(l[9]=a=>E("trash"))},{default:t(()=>[e(d,{icon:"tabler-trash"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:1},512),[[j,"filter"in o(b).params?o(b).params.filter!=="trashed":!0]]),e(C,{onClick:l[10]||(l[10]=a=>o(le)?E("unread"):E("read"))},{default:t(()=>[e(d,{icon:o(le)?"tabler-mail":"tabler-mail-opened"},null,8,["icon"]),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(y(o(le)?"Mark as Unread":"Mark as Read"),1)]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(d,{icon:"tabler-folder"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Folder ")]),_:1}),e(K,{activator:"parent"},{default:t(()=>[e(Q,{density:"compact"},{default:t(()=>[(p(!0),w(D,null,A(o(f),a=>(p(),z(Z,{key:a.title,class:J([o(c)(a.action)?"d-flex":"d-none","items-center"]),href:"#",onClick:X=>ke(a.action)},{prepend:t(()=>[e(d,{icon:a.icon,class:"me-2",size:"20"},null,8,["icon"])]),default:t(()=>[e(ee,{class:"text-capitalize"},{default:t(()=>[h(y(a.action),1)]),_:2},1024)]),_:2},1032,["class","onClick"]))),128))]),_:1})]),_:1})]),_:1}),e(C,null,{default:t(()=>[e(d,{icon:"tabler-tag"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Label ")]),_:1}),e(K,{activator:"parent"},{default:t(()=>[e(Q,{density:"compact"},{default:t(()=>[(p(!0),w(D,null,A(o(I),a=>(p(),z(Z,{key:a.title,href:"#",onClick:X=>o(V)(o(u),a.title)},{prepend:t(()=>[e(te,{inline:"",color:o(M)(a.title),dot:""},null,8,["color"])]),default:t(()=>[e(ee,{class:"ms-2 text-capitalize"},{default:t(()=>[h(y(a.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})],4),e(F),e(C,{onClick:o(r)},{default:t(()=>[e(d,{icon:"tabler-reload"})]),_:1},8,["onClick"]),e(P,{density:"comfortable",color:"undefined"})]),e(B),e(o(ce),{tag:"ul",options:{wheelPropagation:!1},class:"email-list"},{default:t(()=>[(p(!0),w(D,null,A(o(x),a=>{var X;return O((p(),w("li",{key:a.id,class:J(["email-item d-flex align-center py-2 px-5 cursor-pointer",[{"email-read":a.isRead}]]),onClick:U=>Ve(a)},[e(fe,{"model-value":o(u).includes(a.id),class:"flex-shrink-0","onUpdate:modelValue":U=>ge(a.id),onClick:l[11]||(l[11]=N(()=>{},["stop"]))},null,8,["model-value","onUpdate:modelValue"]),e(C,{color:a.isStarred?"warning":"default",onClick:N(U=>E(a.isStarred?"unstar":"star",[a.id]),["stop"])},{default:t(()=>[e(d,{icon:a.isStarred?"tabler-star-filled":"tabler-star",class:J(a.isStarred?"":"text-disabled")},null,8,["icon","class"])]),_:2},1032,["color","onClick"]),e(be,{class:"mx-2",size:"32"},{default:t(()=>[e(ne,{src:a.from.avatar,alt:a.from.name},null,8,["src","alt"])]),_:2},1024),s("h6",wt,y(a.from.name),1),s("span",St,y(a.subject),1),e(F),s("div",{class:J(["email-meta",n.$vuetify.display.xs?"d-none":""])},[(p(!0),w(D,null,A(a.labels,U=>(p(),z(te,{key:U,inline:"",color:o(M)(U),dot:""},null,8,["color"]))),128)),s("small",Mt,y(("formatDateToMonthShort"in n?n.formatDateToMonthShort:o(Me))(a.time)),1)],2),s("div",Et,[e(C,{onClick:N(U=>E("trash",[a.id]),["stop"])},{default:t(()=>[e(d,{icon:"tabler-trash"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Delete Mail ")]),_:1})]),_:2},1032,["onClick"]),e(C,{onClick:N(U=>E(a.isRead?"unread":"read",[a.id]),["stop"])},{default:t(()=>[e(d,{icon:a.isRead?"tabler-mail":"tabler-mail-opened"},null,8,["icon"]),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(y(a.isRead?"Mark as Unread":"Mark as Read"),1)]),_:2},1024)]),_:2},1032,["onClick"]),e(C,{onClick:N(U=>E("spam",[a.id]),["stop"])},{default:t(()=>[e(d,{icon:"tabler-alert-octagon"}),e(T,{activator:"parent",location:"top"},{default:t(()=>[h(" Move to Spam ")]),_:1})]),_:2},1032,["onClick"])])],10,Vt)),[[j,(X=o(x))==null?void 0:X.length]])}),128)),O(s("li",Dt,Tt,512),[[j,!o(x).length]])]),_:1})]),_:1}),O(e(Ge,{onClose:l[12]||(l[12]=a=>_.value=!1)},null,512),[[j,o(_)]])]),_:1})]),_:1})}}};export{xa as default};
