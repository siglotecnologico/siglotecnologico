import{r as y,e as P}from"./validators-dea6e3a5.js";import{r as d,j,k as A,a as B,o as $,f as F,e as t,b as e,d as s,n as a,I as v,v as l,x as M,a$ as N,aV as S,aj as E,b5 as _,aZ as U}from"./main-904b726a.js";import{_ as z}from"./AppTextField-4158ea7e.js";import{_ as G}from"./AuthProvider-3f7b1537.js";import{u as w}from"./useGenerateImageVariant-bbfdcbdc.js";import{a as O,b as W,c as Z,d as H}from"./auth-v2-login-illustration-light-2807dc80.js";import{a as J,b as K}from"./misc-mask-light-1df3cfef.js";import{V as Q}from"./VNodeRenderer-cc584f67.js";import{u as X}from"./useAbility-0ba802b8.js";import{$ as Y}from"./api-ab668072.js";import{V as x}from"./VImg-60fefca9.js";import{a as n,V as k}from"./VRow-355a1a96.js";import{V as ee}from"./VCard-eefd329f.js";import{V as g}from"./VCardText-b2889fcd.js";import{V as ae}from"./VAlert-8a0bd3e0.js";import{V as te}from"./VForm-8f7b2830.js";import{V as se}from"./VCheckbox-57fa13ac.js";import{V as C}from"./VDivider-597493ff.js";import"./helpers-61e4df1a.js";import"./form-4964f997.js";import"./VTextField-abccc1cc.js";/* empty css                   */import"./VCounter-bf80d23c.js";import"./VField-76e83c5a.js";import"./easing-9f15041e.js";import"./VInput-511964ce.js";import"./forwardRefs-8348545e.js";import"./index-51d05da2.js";import"./VAvatar-b1de89d9.js";import"./VCheckboxBtn-a6adf23f.js";import"./VSelectionControl-c3ab9651.js";const oe={class:"position-relative bg-background rounded-lg w-100 ma-8 me-0"},re={class:"d-flex align-center justify-center w-100 h-100"},le={class:"text-h4 mb-1"},ie={class:"text-capitalize"},ne=s("p",{class:"mb-0"}," Please sign-in to your account and start the adventure ",-1),me=s("p",{class:"text-sm mb-2"},[l(" Admin Email: "),s("strong",null,"admin@demo.com"),l(" / Pass: "),s("strong",null,"admin")],-1),ue=s("p",{class:"text-sm mb-0"},[l(" Client Email: "),s("strong",null,"client@demo.com"),l(" / Pass: "),s("strong",null,"client")],-1),de={class:"d-flex align-center flex-wrap justify-space-between mt-1 mb-4"},ce=s("span",null,"New on our platform?",-1),pe=s("span",{class:"mx-4"},"or",-1),We={__name:"login",setup(fe){const R=w(H,Z,W,O,!0),L=w(K,J),c=d(!1),h=j(),I=A(),T=X(),f=d({email:void 0,password:void 0}),b=d(),m=d({email:"admin@demo.com",password:"admin"}),V=d(!1),q=async()=>{try{const o=await Y("/auth/login",{method:"POST",body:{email:m.value.email,password:m.value.password},onResponseError({response:i}){f.value=i._data.errors}}),{accessToken:r,userData:p,userAbilityRules:u}=o;_("userAbilityRules").value=u,T.update(u),_("userData").value=p,_("accessToken").value=r,await U(()=>{I.replace(h.query.to?String(h.query.to):"/")})}catch(o){console.error(o)}},D=()=>{var o;(o=b.value)==null||o.validate().then(({valid:r})=>{r&&q()})};return(o,r)=>{const p=z,u=B("RouterLink");return $(),F(k,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[e(n,{lg:"8",class:"d-none d-lg-flex"},{default:t(()=>[s("div",oe,[s("div",re,[e(x,{"max-width":"505",src:a(R),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),e(x,{src:a(L),class:"auth-footer-mask"},null,8,["src"])])]),_:1}),e(n,{cols:"12",lg:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[e(ee,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-4"},{default:t(()=>[e(g,null,{default:t(()=>[e(a(Q),{nodes:a(v).app.logo,class:"mb-6"},null,8,["nodes"]),s("h4",le,[l(" Welcome to "),s("span",ie,M(a(v).app.title),1),l("! 👋🏻 ")]),ne]),_:1}),e(g,null,{default:t(()=>[e(ae,{color:"primary",variant:"tonal"},{default:t(()=>[me,ue]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(a(te),{ref_key:"refVForm",ref:b,onSubmit:N(D,["prevent"])},{default:t(()=>[e(k,null,{default:t(()=>[e(n,{cols:"12"},{default:t(()=>[e(p,{modelValue:a(m).email,"onUpdate:modelValue":r[0]||(r[0]=i=>a(m).email=i),label:"Email",placeholder:"johndoe@email.com",type:"email",autofocus:"",rules:["requiredValidator"in o?o.requiredValidator:a(y),"emailValidator"in o?o.emailValidator:a(P)],"error-messages":a(f).email},null,8,["modelValue","rules","error-messages"])]),_:1}),e(n,{cols:"12"},{default:t(()=>[e(p,{modelValue:a(m).password,"onUpdate:modelValue":r[1]||(r[1]=i=>a(m).password=i),label:"Password",placeholder:"············",rules:["requiredValidator"in o?o.requiredValidator:a(y)],type:a(c)?"text":"password","error-messages":a(f).password,"append-inner-icon":a(c)?"tabler-eye-off":"tabler-eye","onClick:appendInner":r[2]||(r[2]=i=>c.value=!a(c))},null,8,["modelValue","rules","type","error-messages","append-inner-icon"]),s("div",de,[e(se,{modelValue:a(V),"onUpdate:modelValue":r[3]||(r[3]=i=>S(V)?V.value=i:null),label:"Remember me"},null,8,["modelValue"]),e(u,{class:"text-primary ms-2 mb-1",to:{name:"forgot-password"}},{default:t(()=>[l(" Forgot Password? ")]),_:1})]),e(E,{block:"",type:"submit"},{default:t(()=>[l(" Login ")]),_:1})]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[ce,e(u,{class:"text-primary ms-2",to:{name:"register"}},{default:t(()=>[l(" Create an account ")]),_:1})]),_:1}),e(n,{cols:"12",class:"d-flex align-center"},{default:t(()=>[e(C),pe,e(C)]),_:1}),e(n,{cols:"12",class:"text-center"},{default:t(()=>[e(G)]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})}}};export{We as default};
