import{p as se,a as oe}from"./formatters-b3558c7d.js";import{_ as re}from"./AppTextField-4158ea7e.js";import{_ as ie}from"./AppSelect-5fb6db8f.js";import{_ as ne}from"./AddNewUserDrawer-2e7f2580.js";import{p as ce}from"./paginationMeta-4ad053a4.js";import{u as ue}from"./useApi-a03f2d2e.js";import{c as de}from"./createUrl-be98c04a.js";import{$ as W}from"./api-ab668072.js";import{V as M,a as k}from"./VRow-355a1a96.js";import{V as P}from"./VCard-eefd329f.js";import{V as S}from"./VCardText-b2889fcd.js";import{V as A}from"./VAvatar-b1de89d9.js";import{r as n,ba as pe,a6 as O,a as j,o as v,c as z,d as o,b as t,e as a,n as s,aV as p,F as me,i as fe,f as F,x as i,v as c,y as ve,a1 as m,aj as _,s as q}from"./main-904b726a.js";import{V as _e}from"./VSpacer-83e02c49.js";import{V as Q}from"./VDivider-597493ff.js";import{V as be}from"./VDataTableServer-52d8b72b.js";import{V as Ve}from"./VImg-60fefca9.js";import{V as xe}from"./VChip-bfdcd05f.js";import{V as ge}from"./VMenu-06a939e0.js";import{V as he,a as L,b as B}from"./VList-a5b492de.js";import{V as ye}from"./VPagination-4b77e503.js";import"./helpers-61e4df1a.js";import"./form-4964f997.js";import"./VTextField-abccc1cc.js";/* empty css                   */import"./VCounter-bf80d23c.js";import"./VField-76e83c5a.js";import"./easing-9f15041e.js";import"./VInput-511964ce.js";import"./forwardRefs-8348545e.js";import"./VSelect-63dca544.js";import"./dialog-transition-0d97a9c7.js";import"./VOverlay-fd224c4f.js";import"./lazy-eb3b668f.js";import"./scopeId-288b7732.js";import"./VCheckboxBtn-a6adf23f.js";import"./VSelectionControl-c3ab9651.js";import"./validators-dea6e3a5.js";import"./AppDrawerHeaderSection-e540fdc7.js";import"./vue3-perfect-scrollbar.esm-e31d8d30.js";import"./VForm-8f7b2830.js";import"./VNavigationDrawer-216e4bd8.js";import"./ssrBoot-b0843518.js";import"./index-51d05da2.js";import"./VDataTable-606bbe99.js";import"./VTable-93fdddec.js";import"./filter-09b6423e.js";const we={class:"d-flex mb-6"},ke={class:"d-flex justify-space-between"},Ue={class:"d-flex flex-column gap-y-1"},Ce={class:"text-body-1 text-medium-emphasis"},Pe={class:"text-h4"},Se={class:"text-sm"},Ae={class:"me-3 d-flex gap-3"},ze={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},Le={style:{"inline-size":"10rem"}},Be={class:"d-flex align-center"},De={key:1},Te={class:"d-flex flex-column"},$e={class:"text-base"},Ne={class:"text-sm text-medium-emphasis"},Re={class:"d-flex align-center gap-4"},Ee={class:"text-capitalize"},Ie={class:"text-capitalize font-weight-medium"},We={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Me={class:"text-sm text-disabled mb-0"},Nt={__name:"index",async setup(Oe){let b,D;const V=n(""),x=n(),g=n(),h=n(),u=n(10),d=n(1),T=n(),$=n(),G=r=>{var l,f;d.value=r.page,T.value=(l=r.sortBy[0])==null?void 0:l.key,$.value=(f=r.sortBy[0])==null?void 0:f.order},H=[{title:"User",key:"user"},{title:"Role",key:"role"},{title:"Plan",key:"plan"},{title:"Billing",key:"billing"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],{data:N,execute:R}=([b,D]=pe(()=>ue(de("/apps/users",{query:{q:V,status:h,plan:g,role:x,itemsPerPage:u,page:d,sortBy:T,orderBy:$}}))),b=await b,D(),b),J=O(()=>N.value.users),y=O(()=>N.value.totalUsers),K=[{title:"Admin",value:"admin"},{title:"Author",value:"author"},{title:"Editor",value:"editor"},{title:"Maintainer",value:"maintainer"},{title:"Subscriber",value:"subscriber"}],X=[{title:"Basic",value:"basic"},{title:"Company",value:"company"},{title:"Enterprise",value:"enterprise"},{title:"Team",value:"team"}],Y=[{title:"Pending",value:"pending"},{title:"Active",value:"active"},{title:"Inactive",value:"inactive"}],U=r=>{const l=r.toLowerCase();return l==="subscriber"?{color:"warning",icon:"tabler-circle-check"}:l==="author"?{color:"success",icon:"tabler-user"}:l==="maintainer"?{color:"primary",icon:"tabler-chart-pie-2"}:l==="editor"?{color:"info",icon:"tabler-edit"}:l==="admin"?{color:"secondary",icon:"tabler-device-laptop"}:{color:"primary",icon:"tabler-user"}},Z=r=>{const l=r.toLowerCase();return l==="pending"?"warning":l==="active"?"success":l==="inactive"?"secondary":"primary"},w=n(!1),ee=async r=>{await W("/apps/users",{method:"POST",body:r}),R()},E=async r=>{await W(`/apps/users/${r}`,{method:"DELETE"}),R()},te=n([{title:"Session",value:"21,459",change:29,desc:"Total Users",icon:"tabler-user",iconColor:"primary"},{title:"Paid Users",value:"4,567",change:18,desc:"Last Week Analytics",icon:"tabler-user-plus",iconColor:"error"},{title:"Active Users",value:"19,860",change:-14,desc:"Last Week Analytics",icon:"tabler-user-check",iconColor:"success"},{title:"Pending Users",value:"237",change:42,desc:"Last Week Analytics",icon:"tabler-user-exclamation",iconColor:"warning"}]);return(r,l)=>{const f=ie,ae=re,le=j("RouterLink"),I=j("IconBtn");return v(),z("section",null,[o("div",we,[t(M,null,{default:a(()=>[(v(!0),z(me,null,fe(s(te),(e,C)=>(v(),F(k,{key:C,cols:"12",md:"3",sm:"6"},{default:a(()=>[t(P,null,{default:a(()=>[t(S,null,{default:a(()=>[o("div",ke,[o("div",Ue,[o("span",Ce,i(e.title),1),o("div",null,[o("h4",Pe,[c(i(e.value)+" ",1),o("span",{class:ve(["text-base",e.change>0?"text-success":"text-error"])},"("+i(("prefixWithPlus"in r?r.prefixWithPlus:s(se))(e.change))+"%)",3)])]),o("span",Se,i(e.desc),1)]),t(A,{color:e.iconColor,variant:"tonal",rounded:"",size:"38"},{default:a(()=>[t(m,{icon:e.icon,size:"26"},null,8,["icon"])]),_:2},1032,["color"])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),t(P,{title:"Filters",class:"mb-6"},{default:a(()=>[t(S,null,{default:a(()=>[t(M,null,{default:a(()=>[t(k,{cols:"12",sm:"4"},{default:a(()=>[t(f,{modelValue:s(x),"onUpdate:modelValue":l[0]||(l[0]=e=>p(x)?x.value=e:null),label:"Select Role",placeholder:"Select Role",items:K,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(k,{cols:"12",sm:"4"},{default:a(()=>[t(f,{modelValue:s(g),"onUpdate:modelValue":l[1]||(l[1]=e=>p(g)?g.value=e:null),label:"Select Plan",placeholder:"Select Plan",items:X,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(k,{cols:"12",sm:"4"},{default:a(()=>[t(f,{modelValue:s(h),"onUpdate:modelValue":l[2]||(l[2]=e=>p(h)?h.value=e:null),label:"Select Status",placeholder:"Select Status",items:Y,clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),t(P,null,{default:a(()=>[t(S,{class:"d-flex flex-wrap py-4 gap-4"},{default:a(()=>[o("div",Ae,[t(f,{"model-value":s(u),items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":l[3]||(l[3]=e=>u.value=parseInt(e,10))},null,8,["model-value"])]),t(_e),o("div",ze,[o("div",Le,[t(ae,{modelValue:s(V),"onUpdate:modelValue":l[4]||(l[4]=e=>p(V)?V.value=e:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(_,{variant:"tonal",color:"secondary","prepend-icon":"tabler-screen-share"},{default:a(()=>[c(" Export ")]),_:1}),t(_,{"prepend-icon":"tabler-plus",onClick:l[5]||(l[5]=e=>w.value=!0)},{default:a(()=>[c(" Add New User ")]),_:1})])]),_:1}),t(Q),t(s(be),{"items-per-page":s(u),"onUpdate:itemsPerPage":l[7]||(l[7]=e=>p(u)?u.value=e:null),page:s(d),"onUpdate:page":l[8]||(l[8]=e=>p(d)?d.value=e:null),items:s(J),"items-length":s(y),headers:H,class:"text-no-wrap","onUpdate:options":G},{"item.user":a(({item:e})=>[o("div",Be,[t(A,{size:"34",variant:e.avatar?void 0:"tonal",color:e.avatar?void 0:U(e.role).color,class:"me-3"},{default:a(()=>[e.avatar?(v(),F(Ve,{key:0,src:e.avatar},null,8,["src"])):(v(),z("span",De,i(("avatarText"in r?r.avatarText:s(oe))(e.fullName)),1))]),_:2},1032,["variant","color"]),o("div",Te,[o("h6",$e,[t(le,{to:{name:"apps-user-view-id",params:{id:e.id}},class:"font-weight-medium text-link"},{default:a(()=>[c(i(e.fullName),1)]),_:2},1032,["to"])]),o("span",Ne,i(e.email),1)])])]),"item.role":a(({item:e})=>[o("div",Re,[t(A,{size:30,color:U(e.role).color,variant:"tonal"},{default:a(()=>[t(m,{size:20,icon:U(e.role).icon},null,8,["icon"])]),_:2},1032,["color"]),o("span",Ee,i(e.role),1)])]),"item.plan":a(({item:e})=>[o("span",Ie,i(e.currentPlan),1)]),"item.status":a(({item:e})=>[t(xe,{color:Z(e.status),size:"small",label:"",class:"text-capitalize"},{default:a(()=>[c(i(e.status),1)]),_:2},1032,["color"])]),"item.actions":a(({item:e})=>[t(I,{onClick:C=>E(e.id)},{default:a(()=>[t(m,{icon:"tabler-trash"})]),_:2},1032,["onClick"]),t(I,null,{default:a(()=>[t(m,{icon:"tabler-edit"})]),_:1}),t(_,{icon:"",variant:"text",size:"small",color:"medium-emphasis"},{default:a(()=>[t(m,{size:"24",icon:"tabler-dots-vertical"}),t(ge,{activator:"parent"},{default:a(()=>[t(he,null,{default:a(()=>[t(L,{to:{name:"apps-user-view-id",params:{id:e.id}}},{prepend:a(()=>[t(m,{icon:"tabler-eye"})]),default:a(()=>[t(B,null,{default:a(()=>[c("View")]),_:1})]),_:2},1032,["to"]),t(L,{link:""},{prepend:a(()=>[t(m,{icon:"tabler-pencil"})]),default:a(()=>[t(B,null,{default:a(()=>[c("Edit")]),_:1})]),_:1}),t(L,{onClick:C=>E(e.id)},{prepend:a(()=>[t(m,{icon:"tabler-trash"})]),default:a(()=>[t(B,null,{default:a(()=>[c("Delete")]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:a(()=>[t(Q),o("div",We,[o("p",Me,i(s(ce)({page:s(d),itemsPerPage:s(u)},s(y))),1),t(ye,{modelValue:s(d),"onUpdate:modelValue":l[6]||(l[6]=e=>p(d)?d.value=e:null),length:Math.ceil(s(y)/s(u)),"total-visible":r.$vuetify.display.xs?1:Math.ceil(s(y)/s(u))},{prev:a(e=>[t(_,q({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>[c(" Previous ")]),_:2},1040)]),next:a(e=>[t(_,q({variant:"tonal",color:"default"},e,{icon:!1}),{default:a(()=>[c(" Next ")]),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),t(ne,{isDrawerOpen:s(w),"onUpdate:isDrawerOpen":l[9]||(l[9]=e=>p(w)?w.value=e:null),onUserData:ee},null,8,["isDrawerOpen"])])}}};export{Nt as default};
